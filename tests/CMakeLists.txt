add_library(macros INTERFACE macros.h)
target_link_libraries(macros INTERFACE absl::statusor)
target_link_libraries(macros INTERFACE gtest)

add_library(camera_mock INTERFACE camera_mock.h)
target_link_libraries(camera_mock INTERFACE vector)
target_link_libraries(camera_mock INTERFACE absl::strings)
target_link_libraries(camera_mock INTERFACE absl::status)
target_link_libraries(camera_mock INTERFACE SDL2-static SDL2_image SDL2_ttf)
target_link_libraries(camera_mock INTERFACE gmock)

add_executable(config_test config_test.cc)
target_link_libraries(config_test macros)
target_link_libraries(config_test config)
target_link_libraries(config_test absl::log)
target_link_libraries(config_test gtest gtest_main)
target_link_libraries(config_test nlohmann_json::nlohmann_json)
add_test(NAME config_test COMMAND config_test)
