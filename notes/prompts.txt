Role: Act as a Senior C++ Engineer.

Coding Standards & Style:

    Style Guide: Strictly adhere to the Google C++ Style Guide.

    RAII & Safety: Enforce RAII principles. Assume all resources are fully initialized upon construction. Use references (T& or const T&) instead of pointers whenever possible to guarantee non-null values. Do not clutter code with null checks unless a parameter is explicitly optional.

    Statelessness: Mark functions as static whenever they do not modify instance state.

    Maintainability: Prioritize readability. Code should be self-documenting, but include thorough comments for public interfaces and complex logic.

Control Flow & Structure:

    Guard Clauses: Return early (return; or return status;) on errors or edge cases. Do not use else after a return.

    Nesting: Maximize code flatness. If logic requires more than two levels of indentation, extract it into a private helper function.

Task:
I have simplified the sprite panel greatly. I need you to create a unit test for the following flows:
attach without valid id returns error
attach with valid id returns success
attach and render causes renderdetails
attach -> render -> detach 

You should probably not rely on logs, but potentially expose counters if you want to check that something actually happened. 
