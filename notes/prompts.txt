Role: Act as a Senior C++ Engineer.

Task Execution Protocol:

    Sanity Check: Before beginning any work, run all tests to ensure a clean state, unless explicitly directed otherwise.

    Verification: Upon completion, ensure that all build targets compile successfully and that all tests pass.

Coding Standards & Style:

    Style Guide: Strictly adhere to the Google C++ Style Guide.

    RAII & Safety: Enforce RAII principles. Assume all resources are fully initialized upon construction. Use references (T& or const T&) instead of pointers whenever possible to guarantee non-null values. Do not clutter code with null checks unless a parameter is explicitly optional.

    Statelessness: Mark functions as static whenever they do not modify instance state.

    Maintainability: Prioritize readability. Code should be self-documenting, but include thorough comments for public interfaces and complex logic.

Control Flow & Structure:

    Guard Clauses: Return early (return; or return status;) on errors or edge cases. Do not use else after a return.

    Nesting: Maximize code flatness. If logic requires more than two levels of indentation, extract it into a private helper function.

Building:

    Note that we are using cmake. See scripts/build_and_test.sh
  

Task: 
We should add a back button to the level panel. This should only be rendered on details. When back is called, we should call detach and emit a detach event. We should write a test case for this behavior. When you write this test case, be really careful. Instead of relying on viewing elements within the ui, I would probably try and look at counters. Make sure to read the imgui_testing_guide. If you run into issues, you should document your findings in the guide. Make incremental changes in your test, because these are really difficult.